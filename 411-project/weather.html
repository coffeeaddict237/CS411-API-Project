<!DOCTYPE html>
<html >
<head>
  <meta charset="UTF-8">
  <title>411 project</title>
  
  
  
  
  
</head>

<body>
<html>
<body>
<!–– Text input from user, current city is typed in and searched -->
<input id="userInput" type="text" onkeypress="key_down(event)" placeholder="Input your current city">
<input id="search" type="button" value="search" onClick="test()">
    
<script>
    
	function key_down(e) {
    	if(e.keyCode === 13) {
      		test();
    	}
  	}
 // function that takes in user input and converts HTML input to JS
 // JS input is used to search for city 
    function test()
    	{
        var userInput = document.getElementById("userInput").value;
        $(document).ready(function getWeather(){
       // city variable is set as userInput, gotten from HTML user input
        var city = userInput;
       // searchtext was found as a method to find the weather forcast
        var searchtext = "select item.condition from weather.forecast     where woeid in (select woeid from geo.places(1) where text='" + city + "') and u='f'"
        // JSON data gotten from Yahoo weather API and converted to be usable
        $.getJSON("https://query.yahooapis.com/v1/public/yql?q=" + searchtext + "&format=json").success(function(data){
        	console.log(data);
        // Uses city data and Yahoo API JSON query to find temperature results
        	userInput === "Hell" ? $ ('#temp').html("The weather right now in Hell is 666°F and dry as fuck with a chance of fire.") :
            $('#temp').html("The weather right now in " + city + " is " + data.query.results.channel.item.condition.temp + "°F and " + data.query.results.channel.item.condition.text + ".");
            //$('#text').html("The forcast today in "+ city + " is " + data.query.results.channel.item.condition.text + ".")
  });
});
          // Writes weather data recieved from Yahoo weather API
          document.write(getWeather(userInput));
   
        }
        
    </script>
</body>

<!–– Text displayed temporarily before search is input or while search is occurring -->
<div id="temp">Loading your weather data...</div>
<div id="text"><div>
</html>
  <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>

  
</body>
</html>